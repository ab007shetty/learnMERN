import{c as B,r as l,p as $,j as e,b as q,S as P,X as F,a as I,E as J}from"./index-Bf1DLwj_.js";import{C as T}from"./chevron-left-DSn2fa6K.js";/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],W=B("eye-off",ee);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],D=B("lightbulb",te);function H(y,v){if(!v)return y;const o=new RegExp(`(${v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return y.split(o).map((n,f)=>o.test(n)?e.jsx("mark",{className:"bg-yellow-200 dark:bg-yellow-600 px-1 rounded",children:n},f):n)}const se=({icon:y=q,name:v="JS Puzzles"})=>{const[o,i]=l.useState(0),[n,f]=l.useState(""),[r,L]=l.useState([]),[d,u]=l.useState(0),[K,A]=l.useState(!1),[x,j]=l.useState(!1),[h,N]=l.useState(!1),w=l.useRef(null),k=l.useRef(null),[b,Q]=l.useState(!1);l.useEffect(()=>{const t=()=>Q(window.innerWidth<768);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),l.useEffect(()=>{j(!1),N(!1)},[o]),l.useEffect(()=>{if(n.trim()==="")L([]),u(0);else{const t=n.toLowerCase(),a=$.map((g,S)=>{var O;const E=g.question.toLowerCase().includes(t),M=(O=g.explanation)==null?void 0:O.some(Z=>Z.toLowerCase().includes(t));return E||M?S:-1}).filter(g=>g!==-1);L(a),a.length>0&&!a.includes(o)?(i(a[0]),u(0)):a.length>0?u(a.indexOf(o)):u(0)}},[n]),l.useEffect(()=>{if(r.length>0){const t=r.indexOf(o);u(t===-1?0:t)}else u(0)},[o,r]),l.useEffect(()=>{const t=a=>{if(!(document.activeElement&&document.activeElement.tagName==="INPUT"))switch(a.key){case"ArrowLeft":a.preventDefault(),C();break;case"ArrowRight":a.preventDefault(),z();break}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[o,r]);const m=r.length>0?r:$.map((t,a)=>a),c=m.indexOf(o),s=m.length,p=$[o];if(!p||s===0)return e.jsx("div",{className:"w-full h-screen flex items-center justify-center text-red-600 dark:text-red-400 font-bold text-xl",children:"No puzzle found."});const z=()=>{c<s-1&&i(m[c+1])},C=()=>{c>0&&i(m[c-1])},R=()=>{r.length>0&&d<r.length-1&&i(r[d+1])},X=()=>{r.length>0&&d>0&&i(r[d-1])},U=t=>{w.current=t.changedTouches[0].clientX},G=t=>{k.current=t.changedTouches[0].clientX},V=()=>{if(w.current!==null&&k.current!==null){const a=w.current-k.current;Math.abs(a)>60&&(a>0?z():C())}w.current=null,k.current=null},_=r.length>0&&r.length>1,Y=()=>_?e.jsxs("div",{className:"flex gap-1 items-center ml-2",children:[e.jsx("button",{onClick:X,disabled:d===0,title:"Previous search result",className:`flex items-center p-1 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-all ${d===0?"text-gray-300 dark:text-gray-600":"text-gray-700 dark:text-gray-300"}`,children:e.jsx(T,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium px-1 min-w-[32px] text-center",children:[d+1,"/",r.length]}),e.jsx("button",{onClick:R,disabled:d===r.length-1,title:"Next search result",className:`flex items-center p-1 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-all ${d===r.length-1?"text-gray-300 dark:text-gray-600":"text-gray-700 dark:text-gray-300"}`,children:e.jsx(I,{className:"w-4 h-4"})})]}):null;return e.jsxs("div",{className:"w-full h-full flex flex-col p-4 rounded-2xl shadow-2xl overflow-hidden bg-white dark:bg-gray-900 transition-all duration-300 mt-4",children:[e.jsxs("div",{className:"w-full flex flex-col gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center w-full gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 mr-2",children:[e.jsx(y,{className:"w-7 h-7 text-purple-600 dark:text-purple-400"}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white whitespace-nowrap",children:"JS Puzzles"})]}),!b&&e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 min-w-[230px] max-w-[350px] w-full",children:[e.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-600 px-2 py-1 shadow-sm w-full",children:[e.jsx(P,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),e.jsx("input",{type:"text",className:"bg-transparent outline-none w-full text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Search puzzles…",value:n,onChange:t=>f(t.target.value),spellCheck:!1}),n&&e.jsx("button",{className:"ml-2 p-1",onClick:()=>f(""),"aria-label":"Clear",children:e.jsx(F,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})})]}),e.jsx(Y,{})]}),!b&&e.jsxs("div",{className:"flex-1 min-w-0 mx-2",children:[e.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:s>0?e.jsxs(e.Fragment,{children:["Puzzle ",c+1," of ",s]}):"No puzzles"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:s>0?`${Math.round((c+1)/s*100)}% Complete`:""})]}),e.jsxs("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-full h-1.5 cursor-pointer relative overflow-hidden",onClick:t=>{const a=t.currentTarget.getBoundingClientRect(),S=(t.clientX-a.left)/a.width,E=Math.floor(S*s),M=Math.max(0,Math.min(E,s-1));i(m[M])},title:"Click to jump to a specific puzzle",children:[e.jsx("div",{className:"bg-purple-600 dark:bg-purple-500 h-1.5 rounded-full transition-all duration-300",style:{width:s>0?`${(c+1)/s*100}%`:"0%"}}),s>0&&Array.from({length:s},(t,a)=>e.jsx("div",{className:"absolute top-0 h-full hover:bg-purple-400 hover:bg-opacity-20 transition-colors duration-150",style:{left:`${a/s*100}%`,width:`${1/s*100}%`},onClick:g=>{g.stopPropagation(),i(m[a])},title:`Jump to puzzle ${a+1}`},a))]})]}),!b&&e.jsxs("div",{className:"flex gap-2 flex-shrink-0 ml-2",children:[e.jsxs("button",{onClick:C,disabled:c===0,className:`flex items-center gap-1 px-3 py-1.5 rounded-md font-medium text-sm transition-all duration-200 ${c===0?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 hover:shadow-md"}`,children:[e.jsx(T,{className:"w-4 h-4"}),"Prev"]}),e.jsxs("button",{onClick:z,disabled:c===s-1,className:`flex items-center gap-1 px-3 py-1.5 rounded-md font-medium text-sm transition-all duration-200 ${c===s-1?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed":"bg-purple-600 dark:bg-purple-500 hover:bg-purple-700 dark:hover:bg-purple-400 text-white hover:shadow-md"}`,children:["Next",e.jsx(I,{className:"w-4 h-4"})]})]}),b&&e.jsx("button",{className:"ml-auto flex items-center px-2 py-2",onClick:()=>A(!0),"aria-label":"Search",children:e.jsx(P,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]}),b&&K&&e.jsxs("div",{className:"flex items-center w-full mt-1 relative z-20 gap-2",children:[e.jsxs("div",{className:"flex items-center bg-white dark:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-600 px-2 py-1 shadow-sm flex-1 min-w-0",children:[e.jsx(P,{className:"w-4 h-4 text-gray-400 dark:text-gray-500 mr-2"}),e.jsx("input",{type:"text",autoFocus:!0,className:"bg-transparent outline-none w-full text-sm text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Search puzzles…",value:n,onChange:t=>f(t.target.value),spellCheck:!1,style:{minWidth:0}})]}),_&&e.jsxs("div",{className:"flex gap-1 items-center flex-shrink-0",children:[e.jsx("button",{onClick:X,disabled:d===0,className:`flex items-center p-1 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-all ${d===0?"text-gray-300 dark:text-gray-600":"text-gray-700 dark:text-gray-300"}`,children:e.jsx(T,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium px-1 min-w-[32px] text-center",children:[d+1,"/",r.length]}),e.jsx("button",{onClick:R,disabled:d===r.length-1,className:`flex items-center p-1 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-all ${d===r.length-1?"text-gray-300 dark:text-gray-600":"text-gray-700 dark:text-gray-300"}`,children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsx("button",{className:"ml-1 flex items-center px-2 py-2",onClick:()=>A(!1),"aria-label":"Close",children:e.jsx(F,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 items-stretch justify-center transition-all duration-300 mt-2 rounded-2xl overflow-hidden",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row w-full h-full min-h-[500px] overflow-hidden transition-all duration-300",onTouchStart:U,onTouchMove:G,onTouchEnd:V,children:[e.jsx("div",{className:"lg:w-1/2 flex flex-col border-r border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[e.jsxs("h2",{className:"text-lg md:text-xl font-bold text-purple-800 dark:text-purple-300 mb-4",children:["Puzzle #",p.id,": What will this code output?"]}),e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsx("pre",{className:"bg-gray-900 dark:bg-gray-950 p-4 rounded-lg overflow-x-auto text-sm text-gray-100 dark:text-gray-200 border flex-1 min-h-0",children:e.jsx("code",{className:"block",children:n?H(p.question,n):p.question})})})]})}),e.jsxs("div",{className:"lg:w-1/2 flex flex-col overflow-y-auto",children:[e.jsx("div",{className:"p-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.jsxs("button",{onClick:()=>{j(!x),x||N(!1)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 ${x?"bg-green-600 dark:bg-green-500 text-white hover:bg-green-700 dark:hover:bg-green-600":"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800"}`,children:[x?e.jsx(W,{className:"w-4 h-4"}):e.jsx(J,{className:"w-4 h-4"}),x?"Hide Answer":"Show Answer"]}),e.jsxs("button",{onClick:()=>{N(!h),h||j(!1)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 ${h?"bg-blue-600 dark:bg-blue-500 text-white hover:bg-blue-700 dark:hover:bg-blue-600":"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800"}`,children:[h?e.jsx(W,{className:"w-4 h-4"}):e.jsx(D,{className:"w-4 h-4"}),h?"Hide Explanation":"Show Explanation"]})]})}),!x&&!h&&e.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[e.jsx(q,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Ready to see the answer?"}),e.jsx("p",{className:"text-sm",children:"Click the buttons above to reveal the output and explanation."})]})}),x&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-700 dark:text-green-400 mb-3 flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Output"]}),e.jsx("pre",{className:"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-4 rounded-lg text-sm text-green-900 dark:text-green-200",children:e.jsx("code",{children:p.answer})})]}),h&&e.jsxs("div",{className:"p-6 flex-1",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-700 dark:text-blue-400 mb-3 flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Explanation"]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded-lg space-y-3",children:p.explanation.map((t,a)=>e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-200 leading-relaxed",children:n?H(t,n):t},a))})]})]})]}),e.jsx("div",{className:"lg:hidden mt-3 text-center text-sm text-gray-500 dark:text-gray-400 select-none",children:"Swipe left/right to navigate"})]})]})};export{se as default};
